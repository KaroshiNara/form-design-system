<html>

<head>

  <!-- Primary Meta Tags -->
  <title>PiThon Form</title>
  <meta name="title" content="PiThon Form">
  <meta name="description" content="Registration for the Pithon by Pi Club">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://metatags.io/">
  <meta property="og:title" content="PiThon Form">
  <meta property="og:description" content="Registration for the Pithon by Pi Club">
  <meta property="og:image" content="https://metatags.io/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://metatags.io/">
  <meta property="twitter:title" content="PiThon Form">
  <meta property="twitter:description" content="Registration for the Pithon by Pi Club">
  <meta property="twitter:image" content="https://metatags.io/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png">
  
  <!--   Meta-Tags Ends  -->
  <link rel="stylesheet" href="./css/form.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
  <link rel="preconnect" href="./js/modules/alert.js">
  <link rel="preconnect" href="./js/modules/forms.js">


  <style>
    body {
      padding: 15vh 15vw;
    }

    @media (max-width: 400px) {
      body {
        padding: 5vh 5vw;
      }
    }
  </style>
</head>

<body>
    <div id="logo">
        <picture>
          <source srcset="./logo/logo-black.jpg" media="(prefers-color-scheme: dark )">
          <img src="./logo/logo-white.jpg">
        </picture>
      </div>

<!--   <form action="#" id="sample"> -->
    <form name="PiThon-form" method="POST" data-netlify="true">
    <h1 class="form-name">PiThon Form</h1>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <div id="projectName" class="form-input-group">
      <label for="projectName-input">Project Name</label>
      <span class="text-input">
        <input autofocus placeholder="Enter your Project Name" type="text" name="projectName" id="projectName-input">
      </span>
      <div class="error-text">Project Name is Required!</div>
    </div>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <hr class="separator">
    <div id="projectDescription" class="form-input-group">
      <label for="projectDescription-input">Project Description</label>
      <span class="text-input">
        <input placeholder="Describe your project" type="text" name="projectDescription" id="projectDescription-input" maxlength="120"> 
      </span>
      <div class="error-text">Project Description is Required!</div>
    </div>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <hr class="separator">
    <div id="projectRepo" class="form-input-group">
        <label for="projectRepo-input">Project Repo Link</label>
        <span class="text-input">
          <input placeholder="Enter your Project Repo URL" type="text" name="projectRepo" id="github-input">
        </span>
        <div class="error-text">Project Repo doesn't exist</div>
    </div>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <hr class="separator">
    <div id="leaderName" class="form-input-group">
        <label for="leaderName-input">Team Leader Name</label>
        <caption>* If you are solo then write your name and leave Group Section blank.</caption>
        <span class="text-input">
          <input autofocus placeholder="Enter your Leader Name" type="text" name="leaderName" id="leaderName-input">
        </span>
        <div class="error-text">Name is required</div>
    </div>

    <div id="leaderYear" class="form-input-group">
        <label for="year-input">Team Leader Year </label>
        <div class="option-group">
          <input type="radio" name="year" id="year-1st" value="Year-1">
          <label for="year-1st">1st Year</label>
          <input type="radio" name="year" id="year-2nd" value="Year-2">
          <label for="year-2nd">2nd year</label>
        </div>
        <div class="error-text">Year is required</div>
    </div>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <hr class="separator">
    <div id="email" class="form-input-group">
      <label for="email-input">Email</label>
      <caption>* Enter the Email of Team Leader only</caption>
      <span class="text-input">
        <input placeholder="Your Team Leader's Email" type="text" name="email" id="email-input">
      </span>
      <div class="error-text">Email is not valid</div>
    </div>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <hr class="separator">
    <div id="teamMembers" class="form-input-group">
        <label for="membersInput">Team Members Names</label>
        <caption>* Max Members: 3</caption>
        <label for="memberOneInput">Member 1</label>
        <span class="text-input">
            <input placeholder="Enter Member Name" type="text" id="memberOneInput" name="memberOne-input">
        </span>
        <div class="error-text">Year is required</div>

        <br>
        <label for="memberTwoInput">Member 2</label>
        <span class="text-input">
            <input placeholder="Enter Member Name" type="text" id="memberTwoInput" name="memberTwo-input">
        </span>
        <div class="error-text">Year is required</div>

        <br>
        <label for="memberThreeInput">Member 3</label>
        <span class="text-input">
            <input placeholder="Enter Member Name" type="text" id="memberThreeInput" name="memberThree-input">
        </span>
        <div class="error-text">Year is required</div>
    </div>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <hr class="separator">
    <div id="languages" class="form-input-group">
      <label for="languages-input">Languages</label>
      <div class="option-group">
        <input type="checkbox" name="languages" id="languages-python" value="python">
        <label for="languages-python">Python</label>
        <input type="checkbox" name="languages" id="languages-java" value="java">
        <label for="languages-java">Java</label>
        <input type="checkbox" name="languages" id="languages-golang" value="golang">
        <label for="languages-golang">Golang</label>
        <input type="checkbox" name="languages" id="languages-javascript" value="javascript">
        <label for="languages-javascript">Javascript</label>
        <input type="checkbox" name="languages" id="languages-typescript" value="typescript">
        <label for="languages-typescript">Typescript</label>
        <input type="checkbox" name="languages" id="languages-kotlin" value="kotlin">
        <label for="languages-kotlin">Kotlin</label>
        <input type="checkbox" name="languages" id="languages-other" value="other">
        <label for="languages-other">Other</label>
      </div>
      <div class="error-text">Choose at least 1 language</div>
    </div>
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
    <hr class="separator">
    <div id="submit" class="form-input-group">
      <button type="submit">Submit</button>
    </div>
  </form>
   <script type="module">
    import {init, validateOn, required} from "./js/modules/forms.js"
    init()

    const validate = validateOn("change", "keyup")

    const requiredFields = ["projectName", "projectDescription", "projectRepo","leaderName", "leaderYear","email", "languages"]
    requiredFields.map(data => validate(data, required(`${data.charAt(0).toUpperCase() + data.slice(1)} is required`))) 

//     validate("email", required("Email is required"), async value => {
//       const mailformat = /^[A-Za-z\d\.]+\@[A-Za-z]+\.[a-z]{2,3}$/
//       if (!mailformat.test(value)) {
//         throw new Error("Please enter a valid email")
//       }
//     })

    validate("projectRepo", required("Project Repo Link is required"), async value => {
      const linkFormat = /^(?:https?:\/\/)?github\.com\/[a-zA-Z0-9_-]+$\/[a-zA-Z0-9_-]+$/
      if (!linkFormat.test(value)) {
        throw new Error("Please enter a valid Project Repo.")
      }
    })
  </script>
</body>

</html>
